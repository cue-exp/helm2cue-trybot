With/else block.

-- input.yaml --
{{- with .input.config }}
name: {{ .name }}
{{- else }}
name: "default"
{{- end }}
-- values.yaml --
config:
  name: myapp
-- output.cue --
import "struct"

#input: {
	config?: {
		name!: bool | number | string | null
		...
	}
	...
}

if (_nonzero & {#arg: #input.config, _}) {
	name: #input.config.name
}
if !(_nonzero & {#arg: #input.config, _}) {
	name: "default"
}
_nonzero: {
	#arg?: _
	[if #arg != _|_ {
		[
			if (#arg & int) != _|_ {#arg != 0},
			if (#arg & string) != _|_ {#arg != ""},
			if (#arg & float) != _|_ {#arg != 0.0},
			if (#arg & bool) != _|_ {#arg},
			if (#arg & [...]) != _|_ {len(#arg) > 0},
			if (#arg & {...}) != _|_ {(#arg & struct.MaxFields(0)) == _|_},
			false,
		][0]
	}, false][0]
}
