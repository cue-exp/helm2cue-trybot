empty function in conditions.

-- values.yaml --
loadBalancerSourceRanges: "non-empty"
-- helm_output.yaml --
apiVersion: v1
kind: Service
spec:
  loadBalancerSourceRanges:
    - 10.0.0.0/8
  optional: "default-value"
-- input.yaml --
apiVersion: v1
kind: Service
spec:
  {{- if not (empty .Values.loadBalancerSourceRanges) }}
  loadBalancerSourceRanges:
    - 10.0.0.0/8
  {{- end }}
  {{- if empty .Values.optional }}
  optional: "default-value"
  {{- end }}
-- output.cue --
import "struct"

#values: {
	loadBalancerSourceRanges?: bool | number | string | null
	optional?:                 bool | number | string | null
	...
}

apiVersion: "v1"
kind:       "Service"
spec: {
	if !(!(_nonzero & {#arg: #values.loadBalancerSourceRanges, _})) {
		loadBalancerSourceRanges: [
			"10.0.0.0/8",
		]
	}
	if !(_nonzero & {#arg: #values.optional, _}) {
		optional: "default-value"
	}
}
_nonzero: {
	#arg?: _
	[if #arg != _|_ {
		[
			if (#arg & int) != _|_ {#arg != 0},
			if (#arg & string) != _|_ {#arg != ""},
			if (#arg & float) != _|_ {#arg != 0.0},
			if (#arg & bool) != _|_ {#arg},
			if (#arg & [...]) != _|_ {len(#arg) > 0},
			if (#arg & {...}) != _|_ {(#arg & struct.MaxFields(0)) == _|_},
			false,
		][0]
	}, false][0]
}
